<!doctype html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Rackspace Developer Center</title>
  <link href="http://fonts.googleapis.com/css?family=Open+Sans:400,300,600,700,800" rel="stylesheet" type='text/css'>

  <!-- drc styles: -->
  <link rel="stylesheet" href="https://c2a32ff18d23c8f567f0-e44b0df73868b5d567b1e58e01681d15.ssl.cf5.rackcdn.com/main-ebdad849435665c9fe9a22d338a57bf6.css">

  <!-- local styles: -->
  <link rel="stylesheet" href="_static/localsphinx.css">

  <link href="/atom.xml" rel="alternate" title="Rackspace Developer Portal" type="application/atom+xml">
 <!-- Start Visual Website Optimizer Asynchronous Code -->
<script type='text/javascript'>
var _vwo_code=(function(){
var account_id=45237,
settings_tolerance=2000,
library_tolerance=2500,
use_existing_jquery=false,
// DO NOT EDIT BELOW THIS LINE
f=false,d=document;return{use_existing_jquery:function(){return use_existing_jquery;},library_tolerance:function(){return library_tolerance;},finish:function(){if(!f){f=true;var a=d.getElementById('_vis_opt_path_hides');if(a)a.parentNode.removeChild(a);}},finished:function(){return f;},load:function(a){var b=d.createElement('script');b.src=a;b.type='text/javascript';b.innerText;b.onerror=function(){_vwo_code.finish();};d.getElementsByTagName('head')[0].appendChild(b);},init:function(){settings_timer=setTimeout('_vwo_code.finish()',settings_tolerance);this.load('//dev.visualwebsiteoptimizer.com/j.php?a='+account_id+'&u='+encodeURIComponent(d.URL)+'&r='+Math.random());var a=d.createElement('style'),b='body{opacity:0 !important;filter:alpha(opacity=0) !important;background:none !important;}',h=d.getElementsByTagName('head')[0];a.setAttribute('id','_vis_opt_path_hides');a.setAttribute('type','text/css');if(a.styleSheet)a.styleSheet.cssText=b;else a.appendChild(d.createTextNode(b));h.appendChild(a);return settings_timer;}};}());_vwo_settings_timer=_vwo_code.init();
</script>
<!-- End Visual Website Optimizer Asynchronous Code -->
</head>
<div id="header" class="navbar navbar-fixed-top navbar-inverse navbar-default">
    <div class="container">
        <div class="navbar-header">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#navbar-collapse-btn">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand new-landing-sprite rs-developer-logo" href="/"></a>
        </div>
        <div class="collapse navbar-collapse" id="navbar-collapse-btn">
            <ul class="nav navbar-nav navbar-right">
                <li><a href="/sdks/">SDKs</a></li>
                <li><a href="/databases/">Databases</a></li>
                <li><a href="/docs/">API Docs</a></li>
                <li><a href="/blog/">Blog</a></li>
                <li class="dropdown">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown">Community <b class="caret"></b></a>
                    <ul class="dropdown-menu">
                        <li><a href="https://community.rackspace.com/developers/default">Developer Forum</a></li>
                        <li><a href="/community/">Outreach &amp; Events</a></li>
                        <li><a href="https://github.com/rackerlabs/developer.rackspace.com">This site on github</a></li>
                    </ul>
                </li>
                <li class="dropdown">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown">Help <b class="caret"></b></a>
                    <ul class="dropdown-menu">
                        <!--<li><a href="#">Developer-to-Developer Support</a></li>-->
                        <li><a href="http://www.rackspace.com/knowledge_center/">Knowledge Center</a></li>
                        <li><a href="http://status.rackspace.com">System Health Status</a></li>
                    </ul>
                </li>
                <li class="dropdown">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown">Login <b class="caret"></b></a>
                    <ul class="dropdown-menu">
                        <li><a href="https://my.rackspace.com/portal/auth/login">MyRackspace Portal</a></li>
                        <li><a href="https://mycloud.rackspace.com">Cloud Control Panel</a></li>
                        <li><a href="https://manage.rackspacecloud.com/pages/Login.jsp">Cloud Sites Control Panel</a>
                        </li>
                        <li><a href="https://apps.rackspace.com">Rackspace Webmail Login</a></li>
                        <li><a href="https://cp.rackspace.com">Email Admin Login</a></li>
                    </ul>
                </li>
                <li>
                    <a href="/signup" class="btn btn-default" id="btn-get-started">Sign up for $50/month credit</a>
                </li>
            </ul>
        </div>
    </div>
</div>
<div class="title-header">
  <div class="inner">
    <span class="headline">Rackspace Developer Center</span>
  </div>
</div>
<div class="container body-container">
  <div class="row">
    <div class="col-md-9 col-md-push-3 docs-content bodycontent">
      <div class="document">
  <div class="documentwrapper">
      <div class="body" role="main">

  <div class="section" id="bulk-operations">
<h1>Bulk operations<a class="headerlink" href="#bulk-operations" title="Permalink to this headline">¶</a></h1>
<p>This chapter describes bulk operations that are available with Cloud
Files.</p>
<div class="section" id="extracting-archive-files">
<h2>Extracting archive files<a class="headerlink" href="#extracting-archive-files" title="Permalink to this headline">¶</a></h2>
<p>An extract archive request expands tar files into a Cloud Files account.
The request is a <strong>PUT</strong> operation with the <code class="docutils literal"><span class="pre">?extract-archive=format</span></code>
query parameter specifying the format of the archive file.</p>
<p>Valid values for the <code class="docutils literal"><span class="pre">format</span></code> variable are <code class="docutils literal"><span class="pre">tar</span></code>, <code class="docutils literal"><span class="pre">tar.gz</span></code>, and
<code class="docutils literal"><span class="pre">tar.bz2</span></code>.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">This bulk operation involves middleware that conducts many operations
on a single request.</p>
</div>
<p>For the <strong>PUT</strong> request, use the following URI:</p>
<p>/<code class="docutils literal"><span class="pre">v1/AUTH_Account/$UPLOAD_PATH?extract-archive=tar.gz</span></code></p>
<p><code class="docutils literal"><span class="pre">UPLOAD_PATH</span></code> is the location where the files are expanded and can
specify any of the following values:</p>
<ul>
<li><p class="first">A container</p>
</li>
<li><p class="first">A pseudo directory within a container</p>
</li>
<li><p class="first">An empty string</p>
<p>If the <code class="docutils literal"><span class="pre">UPLOAD_PATH</span></code> is an empty string, Cloud Files automatically
creates containers in which to place the files. Files in the base
directory of the tar file (that is, files that are not in a folder of
the unzipped tar file) are ignored.</p>
</li>
</ul>
<p>The destination of a file in the archive is built as follows:</p>
<p><code class="docutils literal"><span class="pre">/v1/AUTH_Account/$UPLOAD_PATH/$FILE_PATH</span></code></p>
<p><code class="docutils literal"><span class="pre">FILE_PATH</span></code> is the file name from the listing in the tar file.</p>
<p>The following example shows a request to extract an archive.</p>
<p><strong>Example: Example extract archive request</strong></p>
<div class="code highlight-python"><div class="highlight"><pre>$ tar cf archive.tar directory_to_be_archived
$ curl -i -XPUT -H&#39;x-auth-token: AUTH_TOKEN&#39;
https://storage101.iad3.clouddrive.com/v1/MossoCloudFS_aaa-aaa-aaa-aaa?extract-archive=tar -T ./archive.tar
</pre></div>
</div>
<p>You can create up to 1,000 new containers per extraction request. Also
note that only regular files are uploaded. Objects such as empty
directories and symlinks are not uploaded.</p>
<p>The responses from bulk operations are not like other Cloud Files
responses because a short request body sent from the client could result
in many operations on the proxy server and precautions need to be taken
to prevent the request from timing out because of a lack of activity. To
this end, the client always receives a 200 OK response, regardless of
the actual success of the call. The body of the response, which can be
delivered over a greater amount of time, must be parsed to determine the
actual success of the operation. In addition, the client might receive
whitespace characters prepended to the response body while the proxy
server is completing the request.</p>
<p>The format of the response body defaults to text plain but can be either
JSON or XML depending on the <code class="docutils literal"><span class="pre">Accept</span></code> header. Acceptable formats are
<code class="docutils literal"><span class="pre">text/plain</span></code>, <code class="docutils literal"><span class="pre">application/json</span></code>, <code class="docutils literal"><span class="pre">application/xml</span></code>, and
<code class="docutils literal"><span class="pre">text/xml</span></code>. The following example shows the response body, formatted
in JSON, from a successful request.</p>
<p><strong>Example: Successful extract archive response</strong></p>
<div class="code highlight-python"><div class="highlight"><pre>HTTP/1.1 100 Continue

HTTP/1.1 200 OK
Content-Type: application/json
X-Trans-Id: txa7fd1603cfe04bdb920cd-005191226d
Date: Mon, 13 May 2013 17:27:10 GMT
Transfer-Encoding: chunked

{
  &quot;Number Files Created&quot;: 10,
  &quot;Response Status&quot;: &quot;201 Created&quot;,
  &quot;Errors&quot;: [],
  &quot;Response Body&quot;: &quot;&quot;
}
</pre></div>
</div>
<p>The following example shows a response with errors.</p>
<p><strong>Example: Extract archive response with errors</strong></p>
<div class="code highlight-python"><div class="highlight"><pre>HTTP/1.1 100 Continue

HTTP/1.1 200 OK
Content-Type: application/json
X-Trans-Id: tx9f12e16f047049cc91147-005191245f
Date:  Mon, 13 May 2013 17:35:27 GMT
Transfer-Encoding: chunked

{
  &quot;Number Files Created&quot;: 10,
  &quot;Response Status&quot;: &quot;400 Bad Request&quot;,
  &quot;Errors&quot;: [
    [
      &quot;/v1/AUTH_test/test_cont/big_file.wav&quot;,
      &quot;413 Request Entity Too Large&quot;
    ]
  ],
  &quot;Response Body&quot;: &quot;&quot;
}
</pre></div>
</div>
<p>Errors are presented as a list of tuples in the form
<code class="docutils literal"><span class="pre">[objectPath,</span> <span class="pre">errorResponse]</span></code>. The <code class="docutils literal"><span class="pre">objectPath</span></code> given is
the full path where the object was to be put. The <code class="docutils literal"><span class="pre">errorResponse</span></code> is
the HTTP status of the response for that individual <strong>PUT</strong> operation.
After 1,000 errors, processing of the request ends, and the completed
response is returned.</p>
<p>If all valid files were uploaded successfully, the <code class="docutils literal"><span class="pre">Response</span> <span class="pre">Status</span></code>
in the response body is 201 Created. If any files failed to be created,
the <code class="docutils literal"><span class="pre">Response</span> <span class="pre">Status</span></code> corresponds to the subrequest&#8217;s error.
Possible codes are 400, 401, and 502. In both cases, the
<code class="docutils literal"><span class="pre">Response</span> <span class="pre">Body</span></code> specifies the number of files successfully uploaded
and a list of the files that failed. (The actual HTTP status code is
always 200 OK, so the <code class="docutils literal"><span class="pre">Response</span> <span class="pre">Status</span></code> in the response body is the
one you should monitor.)</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">If you send a <code class="docutils literal"><span class="pre">Content-Type</span></code> header on the <strong>PUT</strong> request, the
specified <code class="docutils literal"><span class="pre">Content-Type</span></code> applies to every object in the archive. If
you set <code class="docutils literal"><span class="pre">Content-Type</span></code> to a blank string, Cloud Files determines the
<code class="docutils literal"><span class="pre">Content-Type</span></code> based on the individual file type. For example, if you
have Multipurpose Internet Mail Extensions (MIME) type files, use a
blank string for <code class="docutils literal"><span class="pre">Content-Type</span></code> to set the MIME type for files within
the archive.</p>
</div>
</div>
</div>


</div>

  <div class="toctree-wrapper compound">
<ul class="simple">
</ul>
</div>


      </div>
<div class="clearer"></div>
</div>
    </div>
    <div class="col-md-3 col-md-pull-9 sidebar">
<ul>
  <li><a href="/" class="back">&laquo; Developer Home</a></li>
</ul>
<ul>
  
<a href="set-error-pages-for-a-static-website.html"><<</a>

|

<a href="bulk-delete.html">>></a>

  <li><span class="sidebarheader">Contents</span></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="overview.html">Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="pricing-and-service-level.html">Pricing and service level</a></li>
<li class="toctree-l1"><a class="reference internal" href="additional-resources.html">Additional resources</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="concepts.html">Concepts</a></li>
<li class="toctree-l1"><a class="reference internal" href="authentication.html">Authentication</a></li>
<li class="toctree-l1"><a class="reference internal" href="permissions.html">Permissions</a></li>
<li class="toctree-l1"><a class="reference internal" href="containers.html">Containers</a></li>
<li class="toctree-l1"><a class="reference internal" href="objects.html">Objects</a></li>
<li class="toctree-l1"><a class="reference internal" href="operations.html">Operations</a></li>
<li class="toctree-l1"><a class="reference internal" href="cdn-enabled-containers.html">CDN-enabled containers</a></li>
<li class="toctree-l1"><a class="reference internal" href="language-specific-apis.html">Language-specific APIs</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="general-api-information.html">General API information</a></li>
<li class="toctree-l1"><a class="reference internal" href="role-based-access-control.html">Role Based Access Control</a></li>
<li class="toctree-l1"><a class="reference internal" href="service-access-endpoints.html">Service access endpoints</a></li>
<li class="toctree-l1"><a class="reference internal" href="cloud-files-service-contract-version.html">Cloud Files service contract version</a></li>
<li class="toctree-l1"><a class="reference internal" href="absolute-limits.html">Absolute limits</a></li>
<li class="toctree-l1"><a class="reference internal" href="request-and-response-types.html">Request and response types</a></li>
<li class="toctree-l1"><a class="reference internal" href="response-codes.html">Response codes</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="pseudo-hierarchical-folders-and-directories.html">Pseudo-hierarchical folders and directories</a></li>
<li class="toctree-l1"><a class="reference internal" href="additional-container-services-information.html">Additional container services information</a></li>
<li class="toctree-l1"><a class="reference internal" href="container-quotas.html">Container quotas</a></li>
<li class="toctree-l1"><a class="reference internal" href="access-log-delivery.html">Access log delivery</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="additional-object-services-information.html">Additional object services information</a></li>
<li class="toctree-l1"><a class="reference internal" href="chunked-transfer-encoding.html">Chunked transfer encoding</a></li>
<li class="toctree-l1"><a class="reference internal" href="creating-large-objects.html">Creating large objects</a></li>
<li class="toctree-l1"><a class="reference internal" href="enabling-file-compression.html">Enabling file compression</a></li>
<li class="toctree-l1"><a class="reference internal" href="enabling-bypass-of-browser-behavior.html">Enabling bypass of browser behavior</a></li>
<li class="toctree-l1"><a class="reference internal" href="expiring-objects.html">Expiring objects</a></li>
<li class="toctree-l1"><a class="reference internal" href="object-versioning.html">Object versioning</a></li>
<li class="toctree-l1"><a class="reference internal" href="account-to-account-copy.html">Account to account copy</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="additional-cdn-services-information.html">Additional CDN services information</a></li>
<li class="toctree-l1"><a class="reference internal" href="cdn-enabled-containers-served-through-ssl.html">CDN-enabled containers served through SSL</a></li>
<li class="toctree-l1"><a class="reference internal" href="streaming-cdn-enabled-containers.html">Streaming CDN-enabled containers</a></li>
<li class="toctree-l1"><a class="reference internal" href="ios-streaming.html">iOS streaming</a></li>
<li class="toctree-l1"><a class="reference internal" href="cdn-log-delivery.html">CDN log delivery</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="static-websites-using-cdn-enabled-containers.html">Static websites using CDN-enabled containers</a></li>
<li class="toctree-l1"><a class="reference internal" href="set-error-pages-for-a-static-website.html">Set error pages for a static website</a></li>
</ul>
<ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="">Bulk operations</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#extracting-archive-files">Extracting archive files</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="bulk-delete.html">Bulk delete</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="public-access-to-your-cloud-files-account.html">Public access to your Cloud Files account</a></li>
<li class="toctree-l1"><a class="reference internal" href="tempurl.html">TempURL</a></li>
<li class="toctree-l1"><a class="reference internal" href="formpost.html">FormPost</a></li>
<li class="toctree-l1"><a class="reference internal" href="cors.html">CORS</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="glossary.html">Glossary</a></li>
</ul>


      <div class="callout">
  <span class="sidebarheader">Need Help?</span>

  <p>
    E-mail <a href="mailto:sdk-support@rackspace.com">sdk-support@rackspace.com</a>,<br>
    tweet <a href="https://twitter.com/rackspace">@rackspace</a>,
    chat with us in #rackspace on Freenode,
    or post in <a href="https://community.rackspace.com/developers/default">our developer forum</a>.
  </p>
</div>

<div class="callout">
  <span class="sidebarheader">Found a bug? Caught a typo?</span>
  <p>File a <a href="https://github.com/rackerlabs/developer.rackspace.com/issues/new">bug report</a> or submit a <a target="blank" href="https://github.com/rackerlabs/developer.rackspace.com">pull request</a> on our developer site Github repo.</p>
</div>

<div class="callout">
  <span class="sidebarheader">Want To Stay Up To Date?</span>
  <p>Subscribe to our developer blog <a href="/atom.xml">RSS</a> feed.</p>
</div>
    </div>
  </div>
</div>
<div class="basement">
    <div class="container">
        <img src="https://c2a32ff18d23c8f567f0-e44b0df73868b5d567b1e58e01681d15.ssl.cf5.rackcdn.com/rackerpowered-logo-79838459d447e1e48dd93c76549bdf74.png" alt="Racker Powered">
        <ul>
            <li>©2015 Rackspace, US Inc.</li>
            <li><a href="http://www.rackspace.com/about/">About Rackspace</a></li>
            <li><a href="http://ir.rackspace.com/">Investors</a></li>
            <li><a href="http://www.rackertalent.com">Careers</a></li>
            <li><a href="http://www.rackspace.com/information/legal/privacystatement">Privacy Statement</a></li>
            <li><a href="http://www.rackspace.com/information/legal/websiteterms">Website Terms</a></li>
            <li><a href="http://www.rackspace.com/information/legal/copyrights_trademarks">Trademarks</a></li>
        </ul>
    </div>
</div>
<script src="https://c2a32ff18d23c8f567f0-e44b0df73868b5d567b1e58e01681d15.ssl.cf5.rackcdn.com/app-b899e84f641d7962050ed3d62a3d53a7.js"></script>

  <!-- analytics -->
<script type="text/javascript">
   var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-35639070-1']);
    _gaq.push(['_setDomainName', 'rackspace.com']);
    _gaq.push(['_trackPageview']);

   (function () {
       var ga = document.createElement('script');
       ga.type = 'text/javascript';
       ga.async = true;
       ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0];
        s.parentNode.insertBefore(ga, s);
   })();
 </script>

 <!-- Tealium -->
 <script type="text/javascript" src="https://tags.tiqcdn.com/utag/rackspace/developer/prod/utag.js"></script>

 <!-- Google Code for Rackspace Blog Page Visitors (Global Tag) -->
<!-- Remarketing tags may not be associated with personally identifiable information or placed on pages related to sensitive categories. For instructions on adding this tag and more information on the above requirements, read the setup guide: google.com/ads/remarketingsetup -->
<script type="text/javascript">
    /* <![CDATA[ */
    var google_conversion_id = 1040066332;
    var google_conversion_label = "wFI2CI7LnQQQnM747wM";
    var google_custom_params = window.google_tag_params;
    var google_remarketing_only = true;
    /* ]]> */
</script>
<script type="text/javascript" src="//www.googleadservices.com/pagead/conversion.js">
</script>
<noscript>
    <div style="display:inline;">
        <img height="1" width="1" style="border-style:none;" alt="" src="//googleads.g.doubleclick.net/pagead/viewthroughconversion/1040066332/?value=0&amp;label=wFI2CI7LnQQQnM747wM&amp;guid=ON&amp;script=0"/>
    </div>
</noscript>
</body>
</html>